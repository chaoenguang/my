"use strict";var reg=/id=(\d+)/;reg.test(window.location.search)||(window.location.href="../pages/list.html");var id=reg.exec(window.location.search)[1]-0;setCookie("".concat(id),"".concat(id),100);var cookieis,arrlist=[],arr2=[],cookiestr=document.cookie,cookiearr=cookiestr.split("; "),cookievalue=[];$.ajax({url:"../data/list.json",dataType:"json",success:function(d){function c(a){return $.grep(d,function(c,n){return c.goods_id==a})}cookiearr.forEach(function(c){cookieis=+getCookie("".concat(c.split("=")[0])),cookievalue.push(cookieis)});for(var n=0;n<cookievalue.length;n++){var a=c(cookievalue[n]);arr2.push(a)}var o="";arr2.forEach(function(c){o+='\n            <div class="row ca_box">\n              <div class="ca_input_box">\n                  <input type="checkbox">\n              </div>\n              <div class="ca_content_box">\n                <div class="ca_content">\n                  <img src="'.concat(c[0].goods_big_logo[0],'" alt="">\n                  <p>').concat(c[0].goods_name,'</p>\n                </div>\n                <div class="ca_jj">\n                  <span class="ca_sum_d">-</span>\n                  <div class="ca_shuzi">1</div>\n                  <span class="ca_sum_u">+</span>\n                </div>\n                <div class="ca_price">\n                  <i>¥</i>\n                  <span>').concat(c[0].goods_price,'</span>\n                </div>\n                <div class="ca_con_sc" num = "').concat(c[0].goods_id,'">删除</div>\n              </div>\n          </div>\n        ')}),$(".car_main").html(o);var i=Array.from($(".car_main input"));$("#all").change(function(){$(".car_main input").prop("checked",this.checked)}),$(".car_main input").change(function(){var c=i.every(function(c,n){return c.checked});$("#all").prop("checked",c)}),$(".car_main").on("click",".ca_con_sc",function(){console.log("123"),delCookie("".concat(+$(this).attr("num")));var n,c=[],a=document.cookie.split("; "),o=[];function i(a){return $.grep(d,function(c,n){return c.goods_id==a})}a.forEach(function(c){n=+getCookie("".concat(c.split("=")[0])),o.push(n)}),console.log(o);for(var s=0;s<o.length;s++){var e=i(o[s]);c.push(e)}console.log(c[0]);var t="";if(0===c[0].length)$(".car_main").html("什么也没有，快去购物吧！！！");else{c.forEach(function(c){t+='\n                <div class="row ca_box">\n                  <div class="ca_input_box">\n                      <input type="checkbox">\n                  </div>\n                  <div class="ca_content_box">\n                    <div class="ca_content">\n                      <img src="'.concat(c[0].goods_big_logo[0],'" alt="">\n                      <p>').concat(c[0].goods_name,'</p>\n                    </div>\n                    <div class="ca_jj">\n                      <span class="ca_sum_d">-</span>\n                      <div class="ca_shuzi">1</div>\n                      <span class="ca_sum_u">+</span>\n                    </div>\n                    <div class="ca_price">\n                      <i>¥</i>\n                      <span>').concat(c[0].goods_price,'</span>\n                    </div>\n                    <div class="ca_con_sc" num = "').concat(c[0].goods_id,'">删除</div>\n                  </div>\n              </div>\n            ')}),$(".car_main").html(t);var r=Array.from($(".car_main input"));$("#all").change(function(){$(".car_main input").prop("checked",this.checked)}),$(".car_main input").change(function(){var c=r.every(function(c,n){return c.checked});$("#all").prop("checked",c)})}})}});